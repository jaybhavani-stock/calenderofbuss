<!DOCTYPE html>
<html lang="gu">
<head>
  <meta charset="UTF-8">
  <title>ધંધાકીય હિસાબ</title>
  <style>
    body {
      font-family: sans-serif;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: center;
    }
    input[type="number"] {
      width: 70px;
      text-align: right;
    }
    .green {
      color: green;
    }
    .red {
      color: red;
    }
    .arrow-button {
      background: none;
      border: none;
      font-size: 18px;
      cursor: pointer;
      vertical-align: middle;
    }
    .income-expense-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 4px;
    }
  </style>
</head>
<body>

  <h2>ધંધાકીય હિસાબ</h2>
  <table id="dataTable">
    <thead>
      <tr>
        <th>તારીખ</th>
        <th>દિવસ</th>
        <th>આવક ₹</th>
        <th>ખર્ચ ₹</th>
      </tr>
    </thead>
    <tbody>
      <!-- Rows inserted dynamically -->
    </tbody>
  </table>

  <script>
    const dates = [
      { date: '1/05/2025', day: 'બુધવાર' },
      { date: '2/05/2025', day: 'ગુરૂવાર' },
      { date: '3/05/2025', day: 'શુક્રવાર' },
      { date: '4/05/2025', day: 'શનિવાર' },
      { date: '5/05/2025', day: 'રવિવાર' },
      { date: '6/05/2025', day: 'સોમવાર' },
      { date: '7/05/2025', day: 'મંગળવાર' },
      { date: '8/05/2025', day: 'બુધવાર' },
    ];

    const tableBody = document.querySelector('#dataTable tbody');

    dates.forEach(({ date, day }, index) => {
      const row = document.createElement('tr');

      const dateCell = document.createElement('td');
      dateCell.textContent = date;

      const dayCell = document.createElement('td');
      dayCell.textContent = day;

      const incomeCell = document.createElement('td');
      const incomeContainer = document.createElement('div');
      incomeContainer.classList.add('income-expense-container');

      const incomeInput = document.createElement('input');
      incomeInput.type = 'number';
      incomeInput.addEventListener('input', () => {
        incomeInput.classList.toggle('green', incomeInput.value !== "");
      });

      const incomeArrow = document.createElement('button');
      incomeArrow.innerHTML = '↩️';
      incomeArrow.className = 'arrow-button';
      incomeArrow.onclick = () => openDetailsPage(date, 'income');

      incomeContainer.appendChild(incomeInput);
      incomeContainer.appendChild(incomeArrow);
      incomeCell.appendChild(incomeContainer);

      const expenseCell = document.createElement('td');
      const expenseContainer = document.createElement('div');
      expenseContainer.classList.add('income-expense-container');

      const expenseInput = document.createElement('input');
      expenseInput.type = 'number';
      expenseInput.addEventListener('input', () => {
        expenseInput.classList.toggle('red', expenseInput.value !== "");
      });

      const expenseArrow = document.createElement('button');
      expenseArrow.innerHTML = '↩️';
      expenseArrow.className = 'arrow-button';
      expenseArrow.onclick = () => openDetailsPage(date, 'expense');

      expenseContainer.appendChild(expenseInput);
      expenseContainer.appendChild(expenseArrow);
      expenseCell.appendChild(expenseContainer);

      row.appendChild(dateCell);
      row.appendChild(dayCell);
      row.appendChild(incomeCell);
      row.appendChild(expenseCell);

      tableBody.appendChild(row);
    });

    function openDetailsPage(date, type) {
      const url = `details.html?date=${encodeURIComponent(date)}&type=${type}`;
      window.open(url, '_blank');
    }
  </script>
</body>
</html>
